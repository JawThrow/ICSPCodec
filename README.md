## ICSP Codec
### Introduction
This is a implementation of video codec based on C/C++. <br />
This codec is ICSP codec because I implemented this when I was working in the ICSP lab(https://icsp.hanyang.ac.kr).<br />
ICSP Codec has been implemented based on basic video compression theories.
The characteristics of the ICSP codec are as follows.
- 16x16 macro block unit process(One 16x16 macro block is divided by four 8x8 blocks in each compression process)
- Intra Prediction / Inter Prediction
- All Intra Prediction Mode
- DCT Transformation / Quantization
- Entropy Coding
- AVX Intrinsics Parellel Processing
- Only Supporting CIF

If you have any kinds of feedback and question, please contact me.

### ICSP Codec Encoding Process
![Encoding Proces](https://user-images.githubusercontent.com/36951642/57179748-f59a9880-6ebb-11e9-9c6d-5857f45d5545.PNG)

### Intra Prediction
ICSP codec supports three-direction prediction mode in intra prediction. Vectical, Horizontal, DC mode.

![Intra prediction](https://user-images.githubusercontent.com/36951642/57229516-41cb1180-7051-11e9-83a0-da9e953b989a.png)

The green square is a reconstructed reference pixel around the current block. Intra prediction uses a reference pixel corresponding to each direction mode to generate a prediction block. DC mode generate prediction block using mean value of vertical and horizontal reference pixels. If reference pixels does not exist by some reason(first block, first row blocks, first colum blocks...), then it is replaced by integer value 127. You can set a period of a intra prediction frame in one sequcece by initialize 'intraPerid' as a integer value. For example, if you initialize 'intraPeriod' as 10 and one sequence consists of 300 frames, then every 10 frames are encoded as intra prediction mode and other frames are encoded as inter prediction.

#### All Intra Prediction Mode
ICSP Codec supports special mode, All Intra Prediction Mode. All Intra Prediction Mode encodes all of frames in one sqeuence using intra prediction mode. You can operate ICSP Codec as All Intra Prediction Mode by initialize 'intraPerid' veriable as ALL_INTRA macro value.
### Inter Prediction
ICSP Codec supports only backword prediction. That is, inter prediction blocks are generated by using only previous frame(obviously, previous frame is a reconstrunted frame). 

![image](https://user-images.githubusercontent.com/36951642/57631044-b2d27200-75d9-11e9-8997-8c8d64738c97.png)

Basically, inter prediction process is to find the location of the most similar block with current block in previous frame(fn-1). Also, current blocks are in current frame(fn). in the figure above, red block is a current block in current frame. Green block is the one closest to current block among negibor blocks around red block in previous frame. ICSP Codec uses search method as 'spiral search'.
Spiral search in ICSP Codec means that search the block by round and round the current block position like sprial per a pixel unit.

![image](https://user-images.githubusercontent.com/36951642/57704034-1fae4080-769c-11e9-91ef-c10880442f18.png)

I attached the above picture for conceptual understanding about spiral search. I hope there is no misunderstanding. ICSP Codec moves search block by a pixel unit and find a similar block which has minimum SAD(Sum of Absolute Difference) between current block and seach block.

Up to this point, it was a conceptual explanation of inter prediction. The inter prediction consists of motion estimation and motion compensation. I will briefly explain these two processes.

#### Motion Estimation
Simplly speaking, motion estimation is to generate a motion vector that represents the distance between a current block position and a similar block which has the smallest SAD.

![image](https://user-images.githubusercontent.com/36951642/57705527-12468580-769f-11e9-9312-a06ecd36a4b4.png)

#### Motion Compensation
In ICSP Codec, motion compensation is to make prediction blocks using motion vectors. Also, the process to make differential blocks(current block - prediction block) are included in motion compensation.

### DCT Transformation & Quantization
Discrete Cosine Transformation, Energy compaction, Quantity of certain 2D cosine frequency, AC/DC coefficients table, divide the coeffieient by QstepAC, QstepDC.

### Entropy Coding
ZigZag reordering, Huffman coding in ICSP Codec.

### Bit Stream Syntax

### AVX Intrinsics Mode

### Contents
| Folder | description |
|---|---|
|data| test sequences |
| source | C++ source code |
